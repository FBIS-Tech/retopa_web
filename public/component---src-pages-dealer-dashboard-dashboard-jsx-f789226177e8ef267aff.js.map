{"version":3,"sources":["webpack:///./src/components/Layout/DealerLayout.jsx","webpack:///./src/pages/Dealer_Dashboard/Dashboard.jsx"],"names":["Header","Content","Sider","Dash_home_icon","props","component","HomeIcon","Dash_airtime_icon","RetailIcon","Dash_bill_icon","WalletIcon","Dash_voucher_icon","VoucherIcon","Dash_history_icon","HistoryIcon","Dash_payment_icon","PaymentIcon","Dash_logout_icon","LogoutIcon","Dash_admin_icon","AdminIcon","DealerLayout","children","title","handleHome","handleRetailer","handleHistory","handlePayment","handleAdmin","position","handleBilling","handleExport","handleVoucher","useState","user","setUser","userA","setUserA","useEffect","data","sessionStorage","getItem","JSON","parse","UserData","localStorage","undefined","req","serviceCode","username","Base64","decode","TOKEN_ONE","password","TOKEN_TWO","user_id","Promise","res","Instance","post","then","console","log","menu","Item","key","onClick","navigateTo","Divider","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","rel","href","Favicon","breakpoint","collapsedWidth","className","to","mode","defaultSelectedKeys","type","clear","navigate","style","marginLeft","overlay","e","preventDefault","Dealer_Home","React","lazy","Dashboard","logged","setLogged","isLogged","marginRight","fallback"],"mappings":"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","file":"component---src-pages-dealer-dashboard-dashboard-jsx-f789226177e8ef267aff.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport { Layout, Menu, Icon, Button, Input, Dropdown } from \"antd\"\r\nimport { Link, navigateTo } from \"gatsby\"\r\nimport Logo from \"../../../assets/logo.svg\"\r\nimport \"./DashLayout.scss\"\r\nimport Avatar from \"../../../assets/avatartwo.svg\"\r\nimport Setting from \"../../../assets/settings.svg\"\r\nimport Helmet from \"react-helmet\"\r\nimport Favicon from \"../../images/favicon.ico\"\r\nimport { navigate } from \"gatsby\"\r\nimport { Base64 } from \"js-base64\"\r\nimport {\r\n  HomeIcon,\r\n  AirtimeIcon,\r\n  BillIcon,\r\n  VoucherIcon,\r\n  HistoryIcon,\r\n  PaymentIcon,\r\n  LogoutIcon,\r\n  RetailIcon,\r\n  WalletIcon,\r\n  AdminIcon,\r\n  ExportIcon,\r\n} from \"../CustomIcons\"\r\nimport Instance from \"../../Api/Instance\"\r\nimport { DownOutlined } from \"@ant-design/icons\"\r\n\r\nconst { Header, Content, Sider } = Layout\r\n\r\nconst Dash_home_icon = props => <Icon component={HomeIcon} {...props} />\r\nconst Dash_airtime_icon = props => <Icon component={RetailIcon} {...props} />\r\nconst Dash_bill_icon = props => <Icon component={WalletIcon} {...props} />\r\nconst Dash_voucher_icon = props => <Icon component={VoucherIcon} {...props} />\r\nconst Dash_history_icon = props => <Icon component={HistoryIcon} {...props} />\r\nconst Dash_payment_icon = props => <Icon component={PaymentIcon} {...props} />\r\nconst Dash_logout_icon = props => <Icon component={LogoutIcon} {...props} />\r\nconst Dash_admin_icon = props => <Icon component={AdminIcon} {...props} />\r\nconst Dash_export_icon = props => <Icon component={ExportIcon} {...props} />\r\n\r\nconst DealerLayout = ({\r\n  children,\r\n  handleHome,\r\n  handleRetailer,\r\n  handleHistory,\r\n  handlePayment,\r\n  handleAdmin,\r\n  title,\r\n  handleBilling,\r\n  handleExport,\r\n  handleVoucher,\r\n  position,\r\n}) => {\r\n  const [user, setUser] = useState({})\r\n  const [userA, setUserA] = useState({})\r\n  useEffect(() => {\r\n    let data = sessionStorage.getItem(\"topup\")\r\n      ? JSON.parse(sessionStorage.getItem(\"topup\"))\r\n      : []\r\n    let UserData = localStorage.getItem(\"userData\")\r\n      ? JSON.parse(localStorage.getItem(\"userData\"))\r\n      : []\r\n\r\n    if (UserData === undefined) {\r\n      return false\r\n    } else {\r\n      setUserA(UserData)\r\n    }\r\n    const username = Base64.decode(data.TOKEN_ONE)\r\n    const password = Base64.decode(data.TOKEN_TWO)\r\n    const req = { serviceCode: \"SHP\", username, password, user_id: \"1\" }\r\n    const profile = new Promise(res => {\r\n      res(Instance.post(\"\", req))\r\n    })\r\n    profile.then(({ data }) => {\r\n      let user = data.user\r\n      //console.log(user)\r\n      if (user === undefined) {\r\n        return false\r\n      } else {\r\n        setUser(user)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  //menu list\r\n\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item\r\n        key=\"0\"\r\n        onClick={() => {\r\n          navigateTo(\"/Dealer_Dashboard/Settings\")\r\n        }}\r\n      >\r\n        <a>Change Password</a>\r\n      </Menu.Item>\r\n      <Menu.Divider />\r\n      <Menu.Item\r\n        key=\"1\"\r\n        onClick={() => {\r\n          navigateTo(\"/Dealer_Dashboard/Settings\")\r\n        }}\r\n      >\r\n        <a>Reset Token</a>\r\n      </Menu.Item>\r\n    </Menu>\r\n  )\r\n\r\n  // handle logout\r\n  const handleLogout = () => {\r\n    localStorage.clear()\r\n    sessionStorage.clear()\r\n    navigate(\"/Login\")\r\n  }\r\n\r\n  // setting date\r\n  let today = new Date()\r\n  let dd = String(today.getDate()).padStart(2, \"0\")\r\n  let mm = String(today.getMonth() + 1).padStart(2, \"0\") //January is 0!\r\n  let yyyy = today.getFullYear()\r\n\r\n  today = dd + \"/\" + mm + \"/\" + yyyy\r\n\r\n  return (\r\n    <Layout>\r\n      <Helmet>\r\n        <link rel=\"icon\" href={Favicon} />\r\n      </Helmet>\r\n      <Sider breakpoint=\"lg\" collapsedWidth=\"0\" className=\"dealer_layout_side\">\r\n        <div className=\"logo\">\r\n          <div className=\"logo_content\">\r\n            <Link to=\"/\">\r\n              <Logo />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"user_name\">\r\n          <span>Hello</span>{\" \"}\r\n          <span>{user.username === undefined ? \"ADMIN\" : user.username}</span>\r\n        </div>\r\n        <Menu mode=\"inline\" defaultSelectedKeys={position}>\r\n          <Menu.Item\r\n            key=\"1\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Dashboard\")\r\n            }}\r\n          >\r\n            <Dash_home_icon />\r\n            <span className=\"nav-text\">Home</span>\r\n          </Menu.Item>\r\n\r\n          <Menu.Item\r\n            key=\"8\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Admin\")\r\n            }}\r\n            className={userA.type === \"Admin\" ? \"\" : \"hide\"}\r\n          >\r\n            <Dash_admin_icon />\r\n            <span className=\"nav-text\">Trade Partners</span>\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            key=\"2\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Retailer\")\r\n            }}\r\n          >\r\n            <Dash_airtime_icon />\r\n            <span className=\"nav-text\">Retailer</span>\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            key=\"9\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/SubDealers\")\r\n            }}\r\n            className={userA.type === \"Admin\" ? \"hide\" : \"\"}\r\n          >\r\n            <Dash_airtime_icon />\r\n            <span className=\"nav-text\">Sub Dealers</span>\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            key=\"3\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Wallet\")\r\n            }}\r\n            className={userA.type === \"Admin\" ? \"hide\" : \"\"}\r\n          >\r\n            <Dash_bill_icon />\r\n            <span className=\"nav-text\">Wallet</span>\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            key=\"4\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Voucher\")\r\n            }}\r\n            className={userA.type === \"Admin\" ? \"hide\" : \"\"}\r\n          >\r\n            <Dash_voucher_icon />\r\n            <span className=\"nav-text\">Voucher</span>\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            key=\"5\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/History\")\r\n            }}\r\n            className={userA.type === \"Admin\" ? \"hide\" : \"\"}\r\n          >\r\n            <Dash_history_icon />\r\n            <span className=\"nav-text\">History</span>\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            key=\"10\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Transactions\")\r\n            }}\r\n            className={userA.type === \"Admin\" ? \"\" : \"hide\"}\r\n          >\r\n            <Dash_history_icon />\r\n            <span className=\"nav-text\">Transactions</span>\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            key=\"6\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Payment\")\r\n            }}\r\n            className={userA.type === \"Admin\" ? \"hide\" : \"\"}\r\n          >\r\n            <Dash_payment_icon />\r\n            <span className=\"nav-text\">Payment</span>\r\n          </Menu.Item>\r\n          {/* <Menu.Item\r\n            key=\"9\"\r\n            onClick={() => {\r\n              navigateTo(\"/Dealer_Dashboard/Export\")\r\n            }}\r\n          >\r\n            <Dash_export_icon />\r\n            <span className=\"nav-text\">Export Data</span>\r\n          </Menu.Item> */}\r\n          <Menu.Item key=\"7\" onClick={handleLogout}>\r\n            <Dash_logout_icon />\r\n            <span className=\"nav-text\">Logout</span>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <div className=\"headersss dealer_header\">\r\n          <Header>\r\n            <div className=\"header_left dealerHeader\">\r\n              <h4>Administrative Dashboard</h4>\r\n            </div>\r\n            <div className=\"header_right\">\r\n              {/* <Input\r\n                placeholder=\"Search Here\"\r\n                prefix={<Icon type=\"search\" />}\r\n              /> */}\r\n              <Avatar style={{ marginLeft: \"50px\" }} />\r\n              <Dropdown overlay={menu}>\r\n                <div\r\n                  className=\"ant-dropdown-link\"\r\n                  onClick={e => e.preventDefault()}\r\n                >\r\n                  <Setting style={{ marginLeft: \"30px\" }} />\r\n                </div>\r\n              </Dropdown>\r\n            </div>\r\n          </Header>\r\n          <Header className=\"sub_header\">\r\n            <div className=\"sub_header_left\">\r\n              <h4 className=\"dealer_title\">{title}</h4>\r\n            </div>\r\n            <div className=\"sub_header_right dealerDashDate\">{today}</div>\r\n          </Header>\r\n        </div>\r\n        <Content>\r\n          <div className=\"dash_children dealer_children\">{children}</div>\r\n        </Content>\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nDealerLayout.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n}\r\n\r\nexport default DealerLayout\r\n","import React, { useState, useEffect, Suspense } from \"react\"\r\nimport DealerLayout from \"../../components/Layout/DealerLayout\"\r\nimport { navigate } from \"gatsby\"\r\nimport { Icon } from \"antd\"\r\nimport { HomeIcon } from \"../../components/CustomIcons\"\r\nconst Dash_home_icon = props => <Icon component={HomeIcon} {...props} />\r\nconst Dealer_Home = React.lazy(() => import(\"./Dealer_Home\"))\r\n\r\nconst Dashboard = () => {\r\n  const [logged, setLogged] = useState(true)\r\n  useEffect(() => {\r\n    let onLogged = sessionStorage.getItem(\"persist:root\")\r\n      ? JSON.parse(sessionStorage.getItem(\"persist:root\"))\r\n      : []\r\n    let status = onLogged.isLogged\r\n\r\n    if (status === \"false\") {\r\n      navigate(\"/Login\")\r\n      setLogged(false)\r\n      return false\r\n    }\r\n  }, [])\r\n  const title = (\r\n    <h4>\r\n      <Dash_home_icon style={{ marginRight: \"10px\" }} />\r\n      Home\r\n    </h4>\r\n  )\r\n  return (\r\n    <div className={!logged ? \"hide\" : \"\"}>\r\n      <DealerLayout title={title} position={[\"1\"]}>\r\n        <Suspense fallback={<h1>Loading...</h1>}>\r\n          <Dealer_Home />\r\n        </Suspense>\r\n      </DealerLayout>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n"],"sourceRoot":""}